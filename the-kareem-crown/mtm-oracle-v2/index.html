<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MTM Oracle v2.0 - The Forge</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Plus+Jakarta+Sans:wght@600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* MTM Brand Core */
            --brand-navy: #0F172A;
            
            /* Neutral Foundation */
            --surface-bg: #F3F4F6;
            --card-bg: #FFFFFF;
            --text-primary: #111827;
            --text-secondary: #6B7280;
            --border-color: #E5E7EB;
            
            /* Personality Colors */
            --goldie-primary: #D97706;
            --goldie-surface: #FFFBEB;
            --roman-primary: #2563EB;
            --roman-surface: #EFF6FF;
            --nina-primary: #0D9488;
            --nina-surface: #F0FDFA;
            --echo-primary: #DB2777;
            --echo-surface: #FDF2F8;
            
            /* Current Active Personality */
            --active-primary: var(--goldie-primary);
            --active-surface: var(--goldie-surface);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--surface-bg);
            color: var(--text-primary);
            line-height: 1.5;
            overflow-x: hidden;
        }

        /* Main Layout */
        .oracle-container {
            display: flex;
            height: 100vh;
            max-width: 1600px;
            margin: 0 auto;
            gap: 0;
        }

        /* Sidebar */
        .sidebar {
            width: 80px;
            background-color: var(--brand-navy);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 24px 0;
            flex-shrink: 0;
        }

        .mtm-logo {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #D97706, #F59E0B);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 32px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .mtm-logo:hover {
            transform: scale(1.05);
        }

        .sidebar-nav {
            display: flex;
            flex-direction: column;
            gap: 16px;
            flex: 1;
        }

        .nav-item {
            width: 48px;
            height: 48px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #94A3B8;
            cursor: pointer;
            transition: all 0.2s;
        }

        .nav-item:hover, .nav-item.active {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
        }

        /* Main Content Area */
        .main-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        /* The Forge Chat Interface */
        .forge-container {
            flex: 1.5;
            display: flex;
            flex-direction: column;
            background-color: var(--card-bg);
            border-radius: 16px;
            margin: 24px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .forge-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 24px 32px;
            border-bottom: 1px solid var(--border-color);
            background: linear-gradient(90deg, var(--active-surface), transparent);
        }

        .active-consultant {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .consultant-avatar {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--active-primary);
            color: white;
            position: relative;
        }

        .living-indicator {
            position: absolute;
            top: -2px;
            right: -2px;
            width: 12px;
            height: 12px;
            background-color: var(--active-primary);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .consultant-info h3 {
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .consultant-expertise {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .personality-switcher {
            display: flex;
            gap: 8px;
        }

        .personality-btn {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            border: 2px solid transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: var(--card-bg);
        }

        .personality-btn:hover {
            transform: scale(1.05);
        }

        .personality-btn.active {
            border-color: var(--active-primary);
            box-shadow: 0 0 0 2px var(--active-primary);
        }

        .personality-btn.goldie { color: var(--goldie-primary); }
        .personality-btn.roman { color: var(--roman-primary); }
        .personality-btn.nina { color: var(--nina-primary); }
        .personality-btn.echo { color: var(--echo-primary); }

        /* Chat Messages */
        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 24px 32px;
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .message {
            display: flex;
            gap: 16px;
            max-width: 80%;
        }

        .message.user {
            margin-left: auto;
            flex-direction: row-reverse;
        }

        .message-bubble {
            padding: 16px 20px;
            border-radius: 16px;
            max-width: 100%;
        }

        .message.user .message-bubble {
            background-color: var(--brand-navy);
            color: white;
            border-radius: 16px 16px 4px 16px;
        }

        .message.ai .message-bubble {
            background-color: var(--active-surface);
            color: var(--text-primary);
            border-radius: 16px 16px 16px 4px;
            border-left: 4px solid var(--active-primary);
        }

        /* Chat Input */
        .chat-input-container {
            padding: 24px 32px;
            border-top: 1px solid var(--border-color);
            background-color: var(--card-bg);
        }

        .chat-input-wrapper {
            display: flex;
            gap: 16px;
            align-items: flex-end;
        }

        .chat-input {
            flex: 1;
            padding: 16px 20px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-family: inherit;
            font-size: 16px;
            resize: none;
            min-height: 48px;
            max-height: 120px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .chat-input:focus {
            border-color: var(--active-primary);
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);
        }

        .send-btn {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background-color: var(--active-primary);
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .send-btn:hover {
            transform: scale(1.05);
            opacity: 0.9;
        }

        /* Intelligence Panel */
        .intel-panel {
            width: 400px;
            padding: 24px;
            display: flex;
            flex-direction: column;
            gap: 24px;
            overflow-y: auto;
        }

        .intel-widget {
            background-color: var(--card-bg);
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
        }

        .intel-widget:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .widget-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .widget-title {
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-size: 18px;
            font-weight: 600;
        }

        .insight-source {
            background-color: var(--active-surface);
            color: var(--active-primary);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .metric-value {
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .trend-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background-color: #DCFCE7;
            color: #16A34A;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .context-text {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        @media (max-width: 1024px) {
            .oracle-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: 64px;
                flex-direction: row;
                padding: 0 24px;
            }
            
            .main-content {
                flex-direction: column;
            }
            
            .intel-panel {
                width: 100%;
                order: 2;
            }
            
            .forge-container {
                order: 1;
                margin: 0 24px 24px 24px;
            }
        }
    </style>
</head>
<body>
    <div class="oracle-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="mtm-logo">
                <i data-lucide="zap" style="width: 20px; height: 20px;"></i>
            </div>
            <div class="sidebar-nav">
                <div class="nav-item active">
                    <i data-lucide="message-square" style="width: 20px; height: 20px;"></i>
                </div>
                <div class="nav-item">
                    <i data-lucide="bar-chart-3" style="width: 20px; height: 20px;"></i>
                </div>
                <div class="nav-item">
                    <i data-lucide="settings" style="width: 20px; height: 20px;"></i>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- The Forge Chat Interface -->
            <div class="forge-container">
                <div class="forge-header">
                    <div class="active-consultant">
                        <div class="consultant-avatar">
                            <i data-lucide="sparkles" style="width: 24px; height: 24px;"></i>
                            <div class="living-indicator"></div>
                        </div>
                        <div class="consultant-info">
                            <h3 id="active-consultant-name">Goldie</h3>
                            <div class="consultant-expertise" id="active-consultant-expertise">Visionary â€¢ Growth Strategy</div>
                        </div>
                    </div>
                    <div class="personality-switcher">
                        <div class="personality-btn goldie active" data-personality="goldie">
                            <i data-lucide="sparkles" style="width: 20px; height: 20px;"></i>
                        </div>
                        <div class="personality-btn roman" data-personality="roman">
                            <i data-lucide="target" style="width: 20px; height: 20px;"></i>
                        </div>
                        <div class="personality-btn nina" data-personality="nina">
                            <i data-lucide="shield-check" style="width: 20px; height: 20px;"></i>
                        </div>
                        <div class="personality-btn echo" data-personality="echo">
                            <i data-lucide="heart" style="width: 20px; height: 20px;"></i>
                        </div>
                    </div>
                </div>

                <div class="chat-container" id="chat-container">
                    <div class="message ai">
                        <div class="message-bubble">
                            <strong>Goldie here!</strong> ðŸ‘‹ I'm your Visionary consultant. I see patterns others miss and spot opportunities before they become obvious. What strategic challenge can I help you navigate today?
                        </div>
                    </div>
                </div>

                <div class="chat-input-container">
                    <div class="chat-input-wrapper">
                        <textarea class="chat-input" placeholder="Ask your business question..." rows="1"></textarea>
                        <button class="send-btn" id="send-btn">
                            <i data-lucide="send" style="width: 20px; height: 20px;"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Intelligence Panel -->
            <div class="intel-panel">
                <div class="intel-widget">
                    <div class="widget-header">
                        <h3 class="widget-title">Growth Opportunity</h3>
                        <span class="insight-source">Goldie's Analysis</span>
                    </div>
                    <div class="metric-value">+127%</div>
                    <div class="trend-badge">
                        <i data-lucide="trending-up" style="width: 14px; height: 14px;"></i>
                        Market Expansion Potential
                    </div>
                    <div class="context-text">
                        Based on current market trends and your industry positioning, there are untapped opportunities in the emerging customer segment you've identified.
                    </div>
                </div>

                <div class="intel-widget">
                    <div class="widget-header">
                        <h3 class="widget-title">Strategic Insight</h3>
                        <span class="insight-source">Roman's Analysis</span>
                    </div>
                    <div class="metric-value">3.2x</div>
                    <div class="trend-badge">
                        <i data-lucide="calculator" style="width: 14px; height: 14px;"></i>
                        ROI Optimization
                    </div>
                    <div class="context-text">
                        Reallocating 15% of your marketing budget to digital channels could yield 3.2x better conversion rates based on your historical data.
                    </div>
                </div>

                <div class="intel-widget">
                    <div class="widget-header">
                        <h3 class="widget-title">Risk Alert</h3>
                        <span class="insight-source">Nina's Analysis</span>
                    </div>
                    <div class="metric-value">High</div>
                    <div class="trend-badge" style="background-color: #FEF2F2; color: #DC2626;">
                        <i data-lucide="alert-triangle" style="width: 14px; height: 14px;"></i>
                        Action Required
                    </div>
                    <div class="context-text">
                        Customer acquisition costs are trending upward in Q4. Recommend immediate review of your pricing strategy and channel mix.
                    </div>
                </div>

                <div class="intel-widget">
                    <div class="widget-header">
                        <h3 class="widget-title">Customer Sentiment</h3>
                        <span class="insight-source">Echo's Analysis</span>
                    </div>
                    <div class="metric-value">8.7/10</div>
                    <div class="trend-badge">
                        <i data-lucide="heart" style="width: 14px; height: 14px;"></i>
                        Strong Loyalty
                    </div>
                    <div class="context-text">
                        Customer satisfaction scores have improved 23% this quarter. Your recent service improvements are resonating well with your target audience.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Personality definitions
        const personalities = {
            goldie: {
                name: "Goldie",
                expertise: "Visionary â€¢ Growth Strategy",
                icon: "sparkles",
                primary: "#D97706",
                surface: "#FFFBEB",
                systemPrompt: "You are Goldie, a visionary business consultant. You see patterns others miss, spot emerging opportunities, and think big picture. You help entrepreneurs envision growth paths and identify market opportunities. Always be optimistic about possibilities while staying grounded in business reality."
            },
            roman: {
                name: "Roman",
                expertise: "Strategist â€¢ Data Analysis",
                icon: "target",
                primary: "#2563EB",
                surface: "#EFF6FF",
                systemPrompt: "You are Roman, a strategic business consultant. You're data-driven, methodical, and excel at breaking down complex problems into actionable steps. You analyze market data, create strategic frameworks, and provide systematic approaches to business challenges. Always support your insights with data and clear reasoning."
            },
            nina: {
                name: "Nina",
                expertise: "Skeptic â€¢ Risk Assessment",
                icon: "shield-check",
                primary: "#0D9488",
                surface: "#F0FDFA",
                systemPrompt: "You are Nina, a skeptical but protective business consultant. You challenge assumptions, identify potential risks, and help entrepreneurs avoid costly mistakes. You ask the hard questions and provide counterpoints that strengthen decision-making. Always be thorough in risk assessment while remaining constructive."
            },
            echo: {
                name: "Echo",
                expertise: "CX Advocate â€¢ Customer Focus",
                icon: "heart",
                primary: "#DB2777",
                surface: "#FDF2F8",
                systemPrompt: "You are Echo, a customer experience advocate. You're deeply empathetic and focus on how business decisions impact customers. You help entrepreneurs understand their customers' needs, improve relationships, and build lasting value. Always prioritize customer perspective and relationship-building in your advice."
            }
        };

        let activePersonality = 'goldie';

        // Switch personality
        function switchPersonality(personalityKey) {
            if (personalityKey === activePersonality) return;
            
            activePersonality = personalityKey;
            const personality = personalities[personalityKey];
            
            // Update CSS variables
            document.documentElement.style.setProperty('--active-primary', personality.primary);
            document.documentElement.style.setProperty('--active-surface', personality.surface);
            
            // Update UI elements
            document.getElementById('active-consultant-name').textContent = personality.name;
            document.getElementById('active-consultant-expertise').textContent = personality.expertise;
            
            // Update avatar icon
            const avatar = document.querySelector('.consultant-avatar i');
            avatar.setAttribute('data-lucide', personality.icon);
            lucide.createIcons();
            
            // Update personality buttons
            document.querySelectorAll('.personality-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-personality="${personalityKey}"]`).classList.add('active');
            
            // Add welcome message
            const chatContainer = document.getElementById('chat-container');
            const welcomeMessage = document.createElement('div');
            welcomeMessage.className = 'message ai';
            welcomeMessage.innerHTML = `
                <div class="message-bubble">
                    <strong>${personality.name} here!</strong> ${getWelcomeMessage(personalityKey)}
                </div>
            `;
            chatContainer.appendChild(welcomeMessage);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function getWelcomeMessage(personalityKey) {
            const messages = {
                goldie: "ðŸ‘‹ I'm your Visionary consultant. I see patterns others miss and spot opportunities before they become obvious. What strategic challenge can I help you navigate today?",
                roman: "ðŸ“Š I'm your Strategist consultant. I analyze data, create frameworks, and develop systematic approaches to complex business problems. What challenge can we break down together?",
                nina: "ðŸ›¡ï¸ I'm your Skeptic consultant. I challenge assumptions, identify risks, and help you avoid costly mistakes. What decision are you considering? Let's examine it from every angle.",
                echo: "â¤ï¸ I'm your CX Advocate. I focus on customer relationships and experience. How can we better serve your customers and build lasting value together?"
            };
            return messages[personalityKey] || "Ready to help with your business challenges.";
        }

        // Add event listeners for personality switching
        document.querySelectorAll('.personality-btn').forEach(btn => {
            btn.addEventListener('click', () => switchPersonality(btn.dataset.personality));
        });

        // Chat functionality
        const chatInput = document.querySelector('.chat-input');
        const sendBtn = document.getElementById('send-btn');
        const chatContainer = document.getElementById('chat-container');

        function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;

            // Add user message
            const userMessage = document.createElement('div');
            userMessage.className = 'message user';
            userMessage.innerHTML = `<div class="message-bubble">${message}</div>`;
            chatContainer.appendChild(userMessage);

            // Clear input
            chatInput.value = '';
            chatInput.style.height = 'auto';

            // Simulate AI response
            setTimeout(() => {
                const aiMessage = document.createElement('div');
                aiMessage.className = 'message ai';
                aiMessage.innerHTML = `<div class="message-bubble">${getAIResponse(message)}</div>`;
                chatContainer.appendChild(aiMessage);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }, 1000);
        }

        function getAIResponse(userMessage) {
            const personality = personalities[activePersonality];
            const responses = {
                goldie: [
                    "That's a great question! Let me share some big-picture thinking on this. I see several potential paths forward...",
                    "I love this challenge! Here's what I'm envisioning for you...",
                    "This reminds me of similar opportunities I've seen. Let me paint you a picture of what's possible..."
                ],
                roman: [
                    "Let's approach this systematically. I'll break this down into data-driven components...",
                    "Based on the metrics, here's what the numbers are telling us...",
                    "I recommend we analyze this through a strategic framework..."
                ],
                nina: [
                    "Before we proceed, let me ask some challenging questions to ensure we're thinking this through thoroughly...",
                    "I appreciate the initiative, but let's examine the potential downsides...",
                    "This looks promising, but let me play devil's advocate to strengthen our approach..."
                ],
                echo: [
                    "That's an important consideration! Let's think about how this impacts your customers...",
                    "I'm excited about this, but let me share how your customers might experience this change...",
                    "Great idea! Here's how we can ensure this enhances the customer relationship..."
                ]
            };

            const personalityResponses = responses[activePersonality];
            return personalityResponses[Math.floor(Math.random() * personalityResponses.length)];
        }

        // Auto-resize textarea
        chatInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });

        // Send message events
        sendBtn.addEventListener('click', sendMessage);
        chatInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        // Add some initial activity
        setTimeout(() => {
            const chatContainer = document.getElementById('chat-container');
            const aiMessage = document.createElement('div');
            aiMessage.className = 'message ai';
            aiMessage.innerHTML = `
                <div class="message-bubble">
                    ðŸ’¡ <strong>Pro Tip:</strong> Click on the different consultant icons above to switch between Goldie (Visionary), Roman (Strategist), Nina (Skeptic), and Echo (CX Advocate). Each brings a unique perspective to your business challenges!
                </div>
            `;
            chatContainer.appendChild(aiMessage);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }, 2000);
    </script>
</body>
</html>