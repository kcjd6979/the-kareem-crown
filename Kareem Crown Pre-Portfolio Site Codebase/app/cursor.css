/* ========================================
   ROCKET CURSOR STYLES
   ======================================== */

/* Hide default cursor on the main body, but allow it on interactive elements */
html,
body {
  cursor: none;
}

/* Show default cursor on links, buttons, and other interactive elements */
a,
button,
input,
textarea,
select,
[role="button"] {
  cursor: auto !important;
}

/* Cursor container */
.rocket-cursor {
  position: fixed;
  top: 0;
  left: 0;
  width: 32px;
  height: 48px;
  pointer-events: none;
  z-index: 99999;
  transform: translate(-50%, -50%);
  transition: transform 0.05s ease-out;
}

/* The pen image - FULLY VISIBLE, no obstruction */
.cursor-pen {
  position: relative;
  width: 32px;
  height: 48px;
  display: block;
  object-fit: contain;
  transform: rotate(0deg); /* Tip points upward */
  z-index: 3; /* Top layer - always visible */
  filter: drop-shadow(0 0 8px rgba(218, 165, 32, 0.4));
}

/* Headlight glow - AT THE TIP POINT */
.headlight-glow {
  position: absolute;
  top: -25px; /* Above the pen tip */
  left: 50%;
  transform: translateX(-50%);
  width: 50px;
  height: 50px;
  background: radial-gradient(
    circle at center,
    rgba(255, 223, 128, 0.95) 0%,   /* Bright white-gold center */
    rgba(218, 165, 32, 0.8) 15%,    /* Rich golden */
    rgba(218, 165, 32, 0.5) 35%,    /* Fading gold */
    rgba(218, 165, 32, 0.2) 60%,    /* Very faint */
    transparent 100%                 /* Fade to nothing */
  );
  border-radius: 50%;
  pointer-events: none;
  z-index: 2; /* Behind the pen */
  animation: headlightPulse 2s ease-in-out infinite;
}

@keyframes headlightPulse {
  0%, 100% {
    opacity: 0.85;
    transform: translateX(-50%) scale(1);
  }
  50% {
    opacity: 1;
    transform: translateX(-50%) scale(1.15);
  }
}

/* Headlight beam - extends forward from tip */
.headlight-beam {
  position: absolute;
  top: -60px; /* Further above for beam effect */
  left: 50%;
  transform: translateX(-50%);
  width: 70px;
  height: 80px;
  background: linear-gradient(
    to top,
    rgba(218, 165, 32, 0.35) 0%,
    rgba(218, 165, 32, 0.15) 40%,
    rgba(218, 165, 32, 0.05) 70%,
    transparent 100%
  );
  clip-path: polygon(45% 100%, 50% 0%, 55% 100%); /* Narrow beam */
  pointer-events: none;
  z-index: 1; /* Behind glow and pen */
  opacity: 0.8;
}

/* Rocket thrust container - AT THE BOTTOM */
.rocket-thrust {
  position: absolute;
  bottom: -18px; /* Below the pen's rounded bottom */
  left: 50%;
  transform: translateX(-50%);
  width: 24px;
  height: 35px;
  pointer-events: none;
  z-index: 0; /* Behind everything */
}

/* Individual flame particles */
.flame {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 20px;
  height: 30px;
  background: linear-gradient(
    to bottom,
    rgba(255, 223, 128, 0.95) 0%,   /* Hot white-gold */
    rgba(255, 165, 0, 0.9) 25%,     /* Bright orange */
    rgba(255, 100, 0, 0.7) 60%,     /* Deep orange */
    rgba(255, 50, 0, 0.4) 85%,      /* Red fade */
    transparent 100%
  );
  border-radius: 50% 50% 0 0;
  filter: blur(3px);
  animation: flameIdle 0.2s ease-in-out infinite alternate;
}

.flame-2 {
  width: 16px;
  height: 25px;
  filter: blur(4px);
  animation-delay: 0.07s;
}

.flame-3 {
  width: 12px;
  height: 20px;
  filter: blur(5px);
  animation-delay: 0.14s;
}

/* Idle flame flicker */
@keyframes flameIdle {
  0% {
    transform: translateX(-50%) scaleY(0.95) scaleX(0.9);
    opacity: 0.8;
  }
  100% {
    transform: translateX(-50%) scaleY(1.05) scaleX(1);
    opacity: 1;
  }
}

/* Active thrust when moving */
.rocket-cursor.moving .flame {
  animation: flameThrust 0.08s ease-in-out infinite alternate;
}

@keyframes flameThrust {
  0% {
    height: 35px;
    opacity: 0.9;
    transform: translateX(-50%) scaleX(0.85);
  }
  100% {
    height: 50px;
    opacity: 1;
    transform: translateX(-50%) scaleX(1.1);
  }
}

.rocket-cursor.moving .flame-2 {
  animation: flameThrust 0.08s ease-in-out infinite alternate;
  animation-delay: 0.04s;
}

.rocket-cursor.moving .flame-3 {
  animation: flameThrust 0.08s ease-in-out infinite alternate;
  animation-delay: 0.08s;
}

/* Responsive - disable on mobile/touch devices */
@media (hover: none) and (pointer: coarse) {
  .rocket-cursor {
    display: none !important;
  }

  body, body * {
    cursor: auto !important;
  }
}
